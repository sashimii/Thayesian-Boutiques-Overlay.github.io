const J=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};J();function N(){}function V(e){return e()}function R(){return Object.create(null)}function S(e){e.forEach(V)}function Q(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let A;function ee(e,t){return A||(A=document.createElement("a")),A.href=t,e===A.href}function te(e){return Object.keys(e).length===0}function b(e,t){e.appendChild(t)}function k(e,t,r){e.insertBefore(t,r||null)}function g(e){e.parentNode.removeChild(e)}function O(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function T(){return E(" ")}function F(e,t,r,l){return e.addEventListener(t,r,l),()=>e.removeEventListener(t,r,l)}function v(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function ne(e){return Array.from(e.childNodes)}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let z;function $(e){z=e}const L=[],H=[],x=[],Z=[],re=Promise.resolve();let Y=!1;function oe(){Y||(Y=!0,re.then(W))}function q(e){x.push(e)}const U=new Set;let I=0;function W(){const e=z;do{for(;I<L.length;){const t=L[I];I++,$(t),le(t.$$)}for($(null),L.length=0,I=0;H.length;)H.pop()();for(let t=0;t<x.length;t+=1){const r=x[t];U.has(r)||(U.add(r),r())}x.length=0}while(L.length);for(;Z.length;)Z.pop()();Y=!1,U.clear(),$(e)}function le(e){if(e.fragment!==null){e.update(),S(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const se=new Set;function ie(e,t){e&&e.i&&(se.delete(e),e.i(t))}function ue(e,t,r,l){const{fragment:n,on_mount:o,on_destroy:c,after_update:i}=e.$$;n&&n.m(t,r),l||q(()=>{const u=o.map(V).filter(Q);c?c.push(...u):S(u),e.$$.on_mount=[]}),i.forEach(q)}function ce(e,t){const r=e.$$;r.fragment!==null&&(S(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function ae(e,t){e.$$.dirty[0]===-1&&(L.push(e),oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function fe(e,t,r,l,n,o,c,i=[-1]){const u=z;$(e);const s=e.$$={fragment:null,ctx:null,props:o,update:N,not_equal:n,bound:R(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:R(),dirty:i,skip_bound:!1,root:t.target||u.$$.root};c&&c(s.root);let h=!1;if(s.ctx=r?r(e,t.props||{},(a,_,...d)=>{const y=d.length?d[0]:_;return s.ctx&&n(s.ctx[a],s.ctx[a]=y)&&(!s.skip_bound&&s.bound[a]&&s.bound[a](y),h&&ae(e,a)),_}):[],s.update(),h=!0,S(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const a=ne(t.target);s.fragment&&s.fragment.l(a),a.forEach(g)}else s.fragment&&s.fragment.c();t.intro&&ie(e.$$.fragment),ue(e,t.target,t.anchor,t.customElement),W()}$(u)}class de{$destroy(){ce(this,1),this.$destroy=N}$on(t,r){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(r),()=>{const n=l.indexOf(r);n!==-1&&l.splice(n,1)}}$set(t){this.$$set&&!te(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const me=e=>({hits:e.hits,region:e.CurrentZoneName,damage:e.damage,duration:parseInt(e.DURATION)});function pe(e){let t,r,l;return{c(){t=O("h3"),t.textContent="Thayesian Boutiques",r=T(),l=O("h4"),l.textContent="Murder Counter",v(t,"class","logo svelte-163u722"),v(l,"class","svelte-163u722")},m(n,o){k(n,t,o),k(n,r,o),k(n,l,o)},p:N,d(n){n&&g(t),n&&g(r),n&&g(l)}}}function he(e){let t,r,l,n=e[0]===!0&&G(e);return{c(){t=O("h1"),r=E(e[2]),l=T(),n&&n.c(),v(t,"class","kill-count svelte-163u722")},m(o,c){k(o,t,c),b(t,r),b(t,l),n&&n.m(t,null)},p(o,c){c&4&&B(r,o[2]),o[0]===!0?n?n.p(o,c):(n=G(o),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},d(o){o&&g(t),n&&n.d()}}}function G(e){let t,r;return{c(){t=E("/ "),r=E(e[1])},m(l,n){k(l,t,n),k(l,r,n)},p(l,n){n&2&&B(r,l[1])},d(l){l&&g(t),l&&g(r)}}}function _e(e){let t,r,l,n,o,c,i,u=e[3]?"End":"Start",s,h,a,_;function d(f,C){return f[3]===!0?he:pe}let y=d(e),m=y(e);return{c(){t=O("script"),l=T(),n=O("main"),o=O("div"),m.c(),c=T(),i=O("button"),s=E(u),h=E(" Count"),v(t,"type","text/javascript"),ee(t.src,r="https://ngld.github.io/OverlayPlugin/assets/shared/common.min.js")||v(t,"src",r),v(o,"class","card")},m(f,C){b(document.head,t),k(f,l,C),k(f,n,C),b(n,o),m.m(o,null),b(o,c),b(o,i),b(i,s),b(i,h),a||(_=[F(t,"load",e[5]),F(i,"click",e[4])],a=!0)},p(f,[C]){y===(y=d(f))&&m?m.p(f,C):(m.d(1),m=y(f),m&&(m.c(),m.m(o,c))),C&8&&u!==(u=f[3]?"End":"Start")&&B(s,u)},i:N,o:N,d(f){g(t),f&&g(l),f&&g(n),m.d(),a=!1,S(_)}}}function ge(e,t,r){var K,M;const l=["The Borderland Ruins (Secure)","Seal Rock (Seize)","The Fields of Glory (Shatter)","Onsal Hakair (Danshig Naadam)","Wolves' Den Pier","The Palaistra","The Volcanic Heart","Cloud Nine"].map(w=>w.toLowerCase());let n=!1,o=0,c=0,i={},u=0,s=0,h=[],a=[],_=0,d=!1;const y=()=>{r(3,d=!0)},m=()=>{r(3,d=!1),me(i.Encounter),o=i.Combatant.YOU.kills,c=i.Combatant.YOU.deaths,i={},h=[],r(2,_=0),u=0,a=[],r(1,s=0)};return o!==((M=(K=i==null?void 0:i.Combatant)==null?void 0:K.YOU)==null?void 0:M.kills)&&h.length===0&&_===0&&Object.keys(i).length,[n,s,_,d,()=>{d?m():y()},()=>{window&&(window.addOverlayListener("CombatData",w=>{i=w,l.includes(i.Encounter.CurrentZoneName.toLowerCase())?r(0,n=!0):r(0,n=!1)}),window.addOverlayListener("CombatData",w=>{if(i=w,d){const{kills:j}=i.Combatant.YOU,p=parseInt(j);if(p===0||p===u)return;u<p?u=p:u>=p&&(h.push(u),u=p),r(2,_=[-o,u,...h].reduce((P,D)=>P+D,0))}}),window.addOverlayListener("CombatData",w=>{if(i=w,d){const{deaths:j}=i.Combatant.YOU,p=parseInt(j);if(p===0||p===s)return;s<s?r(1,s=p):s>=s&&(a.push(s),r(1,s=p)),[-c,s,...a].reduce((P,D)=>P+D,0)}}),window.startOverlayEvents())}]}class ye extends de{constructor(t){super(),fe(this,t,ge,_e,X,{})}}new ye({target:document.getElementById("app")});
